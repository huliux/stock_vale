数据库已建好，如下

资产负债表

CREATE TABLE balance_sheet(

    ts_code varchar(20) NOT NULL,

    ann_date date NOT NULL,

    f_ann_date date,

    end_date date NOT NULL,

    report_type varchar(10),

    comp_type varchar(1),

    end_type varchar(10) NOT NULL,

    total_share numeric(20,4),

    cap_rese numeric(20,4),

    undistr_porfit numeric(20,4),

    surplus_rese numeric(20,4),

    special_rese numeric(20,4),

    money_cap numeric(20,4),

    trad_asset numeric(20,4),

    notes_receiv numeric(20,4),

    accounts_receiv numeric(20,4),

    oth_receiv numeric(20,4),

    prepayment numeric(20,4),

    div_receiv numeric(20,4),

    int_receiv numeric(20,4),

    inventories numeric(20,4),

    amor_exp numeric(20,4),

    nca_within_1y numeric(20,4),

    sett_rsrv numeric(20,4),

    loanto_oth_bank_fi numeric(20,4),

    premium_receiv numeric(20,4),

    reinsur_receiv numeric(20,4),

    reinsur_res_receiv numeric(20,4),

    pur_resale_fa numeric(20,4),

    oth_cur_assets numeric(20,4),

    total_cur_assets numeric(20,4),

    fa_avail_for_sale numeric(20,4),

    htm_invest numeric(20,4),

    lt_eqt_invest numeric(20,4),

    invest_real_estate numeric(20,4),

    time_deposits numeric(20,4),

    oth_assets numeric(20,4),

    lt_rec numeric(20,4),

    fix_assets numeric(20,4),

    cip numeric(20,4),

    const_materials numeric(20,4),

    fixed_assets_disp numeric(20,4),

    produc_bio_assets numeric(20,4),

    oil_and_gas_assets numeric(20,4),

    intan_assets numeric(20,4),

    r_and_d numeric(20,4),

    goodwill numeric(20,4),

    lt_amor_exp numeric(20,4),

    defer_tax_assets numeric(20,4),

    decr_in_disbur numeric(20,4),

    oth_nca numeric(20,4),

    total_nca numeric(20,4),

    cash_reser_cb numeric(20,4),

    depos_in_oth_bfi numeric(20,4),

    prec_metals numeric(20,4),

    deriv_assets numeric(20,4),

    rr_reins_une_prem numeric(20,4),

    rr_reins_outstd_cla numeric(20,4),

    rr_reins_lins_liab numeric(20,4),

    rr_reins_lthins_liab numeric(20,4),

    refund_depos numeric(20,4),

    ph_pledge_loans numeric(20,4),

    refund_cap_depos numeric(20,4),

    indep_acct_assets numeric(20,4),

    client_depos numeric(20,4),

    client_prov numeric(20,4),

    transac_seat_fee numeric(20,4),

    invest_as_receiv numeric(20,4),

    total_assets numeric(20,4),

    lt_borr numeric(20,4),

    st_borr numeric(20,4),

    cb_borr numeric(20,4),

    depos_ib_deposits numeric(20,4),

    loan_oth_bank numeric(20,4),

    trading_fl numeric(20,4),

    notes_payable numeric(20,4),

    acct_payable numeric(20,4),

    adv_receipts numeric(20,4),

    sold_for_repur_fa numeric(20,4),

    comm_payable numeric(20,4),

    payroll_payable numeric(20,4),

    taxes_payable numeric(20,4),

    int_payable numeric(20,4),

    div_payable numeric(20,4),

    oth_payable numeric(20,4),

    acc_exp numeric(20,4),

    deferred_inc numeric(20,4),

    st_bonds_payable numeric(20,4),

    payable_to_reinsurer numeric(20,4),

    rsrv_insur_cont numeric(20,4),

    acting_trading_sec numeric(20,4),

    acting_uw_sec numeric(20,4),

    non_cur_liab_due_1y numeric(20,4),

    oth_cur_liab numeric(20,4),

    total_cur_liab numeric(20,4),

    bond_payable numeric(20,4),

    lt_payable numeric(20,4),

    specific_payables numeric(20,4),

    estimated_liab numeric(20,4),

    defer_tax_liab numeric(20,4),

    defer_inc_non_cur_liab numeric(20,4),

    oth_ncl numeric(20,4),

    total_ncl numeric(20,4),

    depos_oth_bfi numeric(20,4),

    deriv_liab numeric(20,4),

    depos numeric(20,4),

    agency_bus_liab numeric(20,4),

    oth_liab numeric(20,4),

    prem_receiv_adva numeric(20,4),

    depos_received numeric(20,4),

    ph_invest numeric(20,4),

    reser_une_prem numeric(20,4),

    reser_outstd_claims numeric(20,4),

    reser_lins_liab numeric(20,4),

    reser_lthins_liab numeric(20,4),

    indept_acc_liab numeric(20,4),

    pledge_borr numeric(20,4),

    indem_payable numeric(20,4),

    policy_div_payable numeric(20,4),

    total_liab numeric(20,4),

    treasury_share numeric(20,4),

    ordin_risk_reser numeric(20,4),

    forex_differ numeric(20,4),

    invest_loss_unconf numeric(20,4),

    minority_int numeric(20,4),

    total_hldr_eqy_exc_min_int numeric(20,4),

    total_hldr_eqy_inc_min_int numeric(20,4),

    total_liab_hldr_eqy numeric(20,4),

    lt_payroll_payable numeric(20,4),

    oth_comp_income numeric(20,4),

    oth_eqt_tools numeric(20,4),

    oth_eqt_tools_p_shr numeric(20,4),

    lending_funds numeric(20,4),

    acc_receivable numeric(20,4),

    st_fin_payable numeric(20,4),

    payables numeric(20,4),

    hfs_assets numeric(20,4),

    hfs_sales numeric(20,4),

    cost_fin_assets numeric(20,4),

    fair_value_fin_assets numeric(20,4),

    cip_total numeric(20,4),

    oth_pay_total numeric(20,4),

    long_pay_total numeric(20,4),

    debt_invest numeric(20,4),

    oth_debt_invest numeric(20,4),

    oth_eq_invest numeric(20,4),

    oth_illiq_fin_assets numeric(20,4),

    oth_eq_ppbond numeric(20,4),

    receiv_financing numeric(20,4),

    use_right_assets numeric(20,4),

    lease_liab numeric(20,4),

    contract_assets numeric(20,4),

    contract_liab numeric(20,4),

    accounts_receiv_bill numeric(20,4),

    accounts_pay numeric(20,4),

    oth_rcv_total numeric(20,4),

    fix_assets_total numeric(20,4),

    update_flag varchar(1) NOT NULL,

    PRIMARY KEY(ts_code,end_date,end_type,update_flag)

);

CREATE INDEX balance_sheet_ts_code ON public.balance_sheet USING btree (ts_code);

CREATE INDEX balance_sheet_end_date ON public.balance_sheet USING btree (end_date);

CREATE INDEX balance_sheet_end_type ON public.balance_sheet USING btree (end_type);

CREATE UNIQUE INDEX balance_sheet_ts_code_end_date_report_type_comp_type_end_type_u ON public.balance_sheet USING btree (ts_code, end_date, report_type, comp_type, end_type, update_flag);

COMMENT ON TABLE balance_sheet IS '资产负债表';

COMMENT ON COLUMN balance_sheet.ts_code IS 'TS股票代码';

COMMENT ON COLUMN balance_sheet.ann_date IS '公告日期';

COMMENT ON COLUMN balance_sheet.f_ann_date IS '实际公告日期';

COMMENT ON COLUMN balance_sheet.end_date IS '报告期';

COMMENT ON COLUMN balance_sheet.report_type IS '报表类型';

COMMENT ON COLUMN balance_sheet.comp_type IS '公司类型(1一般工商业2银行3保险4证券)';

COMMENT ON COLUMN balance_sheet.end_type IS '报告期类型';

COMMENT ON COLUMN balance_sheet.total_share IS '期末总股本';

COMMENT ON COLUMN balance_sheet.cap_rese IS '资本公积金';

COMMENT ON COLUMN balance_sheet.undistr_porfit IS '未分配利润';

COMMENT ON COLUMN balance_sheet.surplus_rese IS '盈余公积金';

COMMENT ON COLUMN balance_sheet.special_rese IS '专项储备';

COMMENT ON COLUMN balance_sheet.money_cap IS '货币资金';

COMMENT ON COLUMN balance_sheet.trad_asset IS '交易性金融资产';

COMMENT ON COLUMN balance_sheet.notes_receiv IS '应收票据';

COMMENT ON COLUMN balance_sheet.accounts_receiv IS '应收账款';

COMMENT ON COLUMN balance_sheet.oth_receiv IS '其他应收款';

COMMENT ON COLUMN balance_sheet.prepayment IS '预付款项';

COMMENT ON COLUMN balance_sheet.div_receiv IS '应收股利';

COMMENT ON COLUMN balance_sheet.int_receiv IS '应收利息';

COMMENT ON COLUMN balance_sheet.inventories IS '存货';

COMMENT ON COLUMN balance_sheet.amor_exp IS '待摊费用';

COMMENT ON COLUMN balance_sheet.nca_within_1y IS '一年内到期的非流动资产';

COMMENT ON COLUMN balance_sheet.sett_rsrv IS '结算备付金';

COMMENT ON COLUMN balance_sheet.loanto_oth_bank_fi IS '拆出资金';

COMMENT ON COLUMN balance_sheet.premium_receiv IS '应收保费';

COMMENT ON COLUMN balance_sheet.reinsur_receiv IS '应收分保账款';

COMMENT ON COLUMN balance_sheet.reinsur_res_receiv IS '应收分保合同准备金';

COMMENT ON COLUMN balance_sheet.pur_resale_fa IS '买入返售金融资产';

COMMENT ON COLUMN balance_sheet.oth_cur_assets IS '其他流动资产';

COMMENT ON COLUMN balance_sheet.total_cur_assets IS '流动资产合计';

COMMENT ON COLUMN balance_sheet.fa_avail_for_sale IS '可供出售金融资产';

COMMENT ON COLUMN balance_sheet.htm_invest IS '持有至到期投资';

COMMENT ON COLUMN balance_sheet.lt_eqt_invest IS '长期股权投资';

COMMENT ON COLUMN balance_sheet.invest_real_estate IS '投资性房地产';

COMMENT ON COLUMN balance_sheet.time_deposits IS '定期存款';

COMMENT ON COLUMN balance_sheet.oth_assets IS '其他资产';

COMMENT ON COLUMN balance_sheet.lt_rec IS '长期应收款';

COMMENT ON COLUMN balance_sheet.fix_assets IS '固定资产';

COMMENT ON COLUMN balance_sheet.cip IS '在建工程';

COMMENT ON COLUMN balance_sheet.const_materials IS '工程物资';

COMMENT ON COLUMN balance_sheet.fixed_assets_disp IS '固定资产清理';

COMMENT ON COLUMN balance_sheet.produc_bio_assets IS '生产性生物资产';

COMMENT ON COLUMN balance_sheet.oil_and_gas_assets IS '油气资产';

COMMENT ON COLUMN balance_sheet.intan_assets IS '无形资产';

COMMENT ON COLUMN balance_sheet.r_and_d IS '研发支出';

COMMENT ON COLUMN balance_sheet.goodwill IS '商誉';

COMMENT ON COLUMN balance_sheet.lt_amor_exp IS '长期待摊费用';

COMMENT ON COLUMN balance_sheet.defer_tax_assets IS '递延所得税资产';

COMMENT ON COLUMN balance_sheet.decr_in_disbur IS '发放贷款及垫款';

COMMENT ON COLUMN balance_sheet.oth_nca IS '其他非流动资产';

COMMENT ON COLUMN balance_sheet.total_nca IS '非流动资产合计';

COMMENT ON COLUMN balance_sheet.cash_reser_cb IS '现金及存放中央银行款项';

COMMENT ON COLUMN balance_sheet.depos_in_oth_bfi IS '存放同业和其它金融机构款项';

COMMENT ON COLUMN balance_sheet.prec_metals IS '贵金属';

COMMENT ON COLUMN balance_sheet.deriv_assets IS '衍生金融资产';

COMMENT ON COLUMN balance_sheet.rr_reins_une_prem IS '应收分保未到期责任准备金';

COMMENT ON COLUMN balance_sheet.rr_reins_outstd_cla IS '应收分保未决赔款准备金';

COMMENT ON COLUMN balance_sheet.rr_reins_lins_liab IS '应收分保寿险责任准备金';

COMMENT ON COLUMN balance_sheet.rr_reins_lthins_liab IS '应收分保长期健康险责任准备金';

COMMENT ON COLUMN balance_sheet.refund_depos IS '存出保证金';

COMMENT ON COLUMN balance_sheet.ph_pledge_loans IS '保户质押贷款';

COMMENT ON COLUMN balance_sheet.refund_cap_depos IS '存出资本保证金';

COMMENT ON COLUMN balance_sheet.indep_acct_assets IS '独立账户资产';

COMMENT ON COLUMN balance_sheet.client_depos IS '其中：客户资金存款';

COMMENT ON COLUMN balance_sheet.client_prov IS '其中：客户备付金';

COMMENT ON COLUMN balance_sheet.transac_seat_fee IS '其中:交易席位费';

COMMENT ON COLUMN balance_sheet.invest_as_receiv IS '应收款项类投资';

COMMENT ON COLUMN balance_sheet.total_assets IS '资产总计';

COMMENT ON COLUMN balance_sheet.lt_borr IS '长期借款';

COMMENT ON COLUMN balance_sheet.st_borr IS '短期借款';

COMMENT ON COLUMN balance_sheet.cb_borr IS '向中央银行借款';

COMMENT ON COLUMN balance_sheet.depos_ib_deposits IS '吸收存款及同业存放';

COMMENT ON COLUMN balance_sheet.loan_oth_bank IS '拆入资金';

COMMENT ON COLUMN balance_sheet.trading_fl IS '交易性金融负债';

COMMENT ON COLUMN balance_sheet.notes_payable IS '应付票据';

COMMENT ON COLUMN balance_sheet.acct_payable IS '应付账款';

COMMENT ON COLUMN balance_sheet.adv_receipts IS '预收款项';

COMMENT ON COLUMN balance_sheet.sold_for_repur_fa IS '卖出回购金融资产款';

COMMENT ON COLUMN balance_sheet.comm_payable IS '应付手续费及佣金';

COMMENT ON COLUMN balance_sheet.payroll_payable IS '应付职工薪酬';

COMMENT ON COLUMN balance_sheet.taxes_payable IS '应交税费';

COMMENT ON COLUMN balance_sheet.int_payable IS '应付利息';

COMMENT ON COLUMN balance_sheet.div_payable IS '应付股利';

COMMENT ON COLUMN balance_sheet.oth_payable IS '其他应付款';

COMMENT ON COLUMN balance_sheet.acc_exp IS '预提费用';

COMMENT ON COLUMN balance_sheet.deferred_inc IS '递延收益';

COMMENT ON COLUMN balance_sheet.st_bonds_payable IS '应付短期债券';

COMMENT ON COLUMN balance_sheet.payable_to_reinsurer IS '应付分保账款';

COMMENT ON COLUMN balance_sheet.rsrv_insur_cont IS '保险合同准备金';

COMMENT ON COLUMN balance_sheet.acting_trading_sec IS '代理买卖证券款';

COMMENT ON COLUMN balance_sheet.acting_uw_sec IS '代理承销证券款';

COMMENT ON COLUMN balance_sheet.non_cur_liab_due_1y IS '一年内到期的非流动负债';

COMMENT ON COLUMN balance_sheet.oth_cur_liab IS '其他流动负债';

COMMENT ON COLUMN balance_sheet.total_cur_liab IS '流动负债合计';

COMMENT ON COLUMN balance_sheet.bond_payable IS '应付债券';

COMMENT ON COLUMN balance_sheet.lt_payable IS '长期应付款';

COMMENT ON COLUMN balance_sheet.specific_payables IS '专项应付款';

COMMENT ON COLUMN balance_sheet.estimated_liab IS '预计负债';

COMMENT ON COLUMN balance_sheet.defer_tax_liab IS '递延所得税负债';

COMMENT ON COLUMN balance_sheet.defer_inc_non_cur_liab IS '递延收益-非流动负债';

COMMENT ON COLUMN balance_sheet.oth_ncl IS '其他非流动负债';

COMMENT ON COLUMN balance_sheet.total_ncl IS '非流动负债合计';

COMMENT ON COLUMN balance_sheet.depos_oth_bfi IS '同业和其它金融机构存放款项';

COMMENT ON COLUMN balance_sheet.deriv_liab IS '衍生金融负债';

COMMENT ON COLUMN balance_sheet.depos IS '吸收存款';

COMMENT ON COLUMN balance_sheet.agency_bus_liab IS '代理业务负债';

COMMENT ON COLUMN balance_sheet.oth_liab IS '其他负债';

COMMENT ON COLUMN balance_sheet.prem_receiv_adva IS '预收保费';

COMMENT ON COLUMN balance_sheet.depos_received IS '存入保证金';

COMMENT ON COLUMN balance_sheet.ph_invest IS '保户储金及投资款';

COMMENT ON COLUMN balance_sheet.reser_une_prem IS '未到期责任准备金';

COMMENT ON COLUMN balance_sheet.reser_outstd_claims IS '未决赔款准备金';

COMMENT ON COLUMN balance_sheet.reser_lins_liab IS '寿险责任准备金';

COMMENT ON COLUMN balance_sheet.reser_lthins_liab IS '长期健康险责任准备金';

COMMENT ON COLUMN balance_sheet.indept_acc_liab IS '独立账户负债';

COMMENT ON COLUMN balance_sheet.pledge_borr IS '其中:质押借款';

COMMENT ON COLUMN balance_sheet.indem_payable IS '应付赔付款';

COMMENT ON COLUMN balance_sheet.policy_div_payable IS '应付保单红利';

COMMENT ON COLUMN balance_sheet.total_liab IS '负债合计';

COMMENT ON COLUMN balance_sheet.treasury_share IS '减:库存股';

COMMENT ON COLUMN balance_sheet.ordin_risk_reser IS '一般风险准备';

COMMENT ON COLUMN balance_sheet.forex_differ IS '外币报表折算差额';

COMMENT ON COLUMN balance_sheet.invest_loss_unconf IS '未确认的投资损失';

COMMENT ON COLUMN balance_sheet.minority_int IS '少数股东权益';

COMMENT ON COLUMN balance_sheet.total_hldr_eqy_exc_min_int IS '股东权益合计(不含少数股东权益)';

COMMENT ON COLUMN balance_sheet.total_hldr_eqy_inc_min_int IS '股东权益合计(含少数股东权益)';

COMMENT ON COLUMN balance_sheet.total_liab_hldr_eqy IS '负债及股东权益总计';

COMMENT ON COLUMN balance_sheet.lt_payroll_payable IS '长期应付职工薪酬';

COMMENT ON COLUMN balance_sheet.oth_comp_income IS '其他综合收益';

COMMENT ON COLUMN balance_sheet.oth_eqt_tools IS '其他权益工具';

COMMENT ON COLUMN balance_sheet.oth_eqt_tools_p_shr IS '其他权益工具(优先股)';

COMMENT ON COLUMN balance_sheet.lending_funds IS '融出资金';

COMMENT ON COLUMN balance_sheet.acc_receivable IS '应收款项';

COMMENT ON COLUMN balance_sheet.st_fin_payable IS '应付短期融资款';

COMMENT ON COLUMN balance_sheet.payables IS '应付款项';

COMMENT ON COLUMN balance_sheet.hfs_assets IS '持有待售的资产';

COMMENT ON COLUMN balance_sheet.hfs_sales IS '持有待售的负债';

COMMENT ON COLUMN balance_sheet.cost_fin_assets IS '以摊余成本计量的金融资产';

COMMENT ON COLUMN balance_sheet.fair_value_fin_assets IS '以公允价值计量且其变动计入其他综合收益的金融资产';

COMMENT ON COLUMN balance_sheet.cip_total IS '在建工程(合计)(元)';

COMMENT ON COLUMN balance_sheet.oth_pay_total IS '其他应付款(合计)(元)';

COMMENT ON COLUMN balance_sheet.long_pay_total IS '长期应付款(合计)(元)';

COMMENT ON COLUMN balance_sheet.debt_invest IS '债权投资(元)';

COMMENT ON COLUMN balance_sheet.oth_debt_invest IS '其他债权投资(元)';

COMMENT ON COLUMN balance_sheet.oth_eq_invest IS '其他权益工具投资(元)';

COMMENT ON COLUMN balance_sheet.oth_illiq_fin_assets IS '其他非流动金融资产(元)';

COMMENT ON COLUMN balance_sheet.oth_eq_ppbond IS '其他权益工具:永续债(元)';

COMMENT ON COLUMN balance_sheet.receiv_financing IS '应收款项融资';

COMMENT ON COLUMN balance_sheet.use_right_assets IS '使用权资产';

COMMENT ON COLUMN balance_sheet.lease_liab IS '租赁负债';

COMMENT ON COLUMN balance_sheet.contract_assets IS '合同资产';

COMMENT ON COLUMN balance_sheet.contract_liab IS '合同负债';

COMMENT ON COLUMN balance_sheet.accounts_receiv_bill IS '应收票据及应收账款';

COMMENT ON COLUMN balance_sheet.accounts_pay IS '应付票据及应付账款';

COMMENT ON COLUMN balance_sheet.oth_rcv_total IS '其他应收款(合计)（元）';

COMMENT ON COLUMN balance_sheet.fix_assets_total IS '固定资产(合计)(元)';

COMMENT ON COLUMN balance_sheet.update_flag IS '更新标识';



现金流量表

-- Generated by the database client.

CREATE TABLE cash_flow(

    ts_code varchar(20) NOT NULL,

    ann_date date NOT NULL,

    f_ann_date date,

    end_date date NOT NULL,

    comp_type varchar(1),

    report_type varchar(10),

    end_type varchar(10) NOT NULL,

    net_profit numeric(20,4),

    finan_exp numeric(20,4),

    c_fr_sale_sg numeric(20,4),

    recp_tax_rends numeric(20,4),

    n_depos_incr_fi numeric(20,4),

    n_incr_loans_cb numeric(20,4),

    n_inc_borr_oth_fi numeric(20,4),

    prem_fr_orig_contr numeric(20,4),

    n_incr_insured_dep numeric(20,4),

    n_reinsur_prem numeric(20,4),

    n_incr_disp_tfa numeric(20,4),

    ifc_cash_incr numeric(20,4),

    n_incr_disp_faas numeric(20,4),

    n_incr_loans_oth_bank numeric(20,4),

    n_cap_incr_repur numeric(20,4),

    c_fr_oth_operate_a numeric(20,4),

    c_inf_fr_operate_a numeric(20,4),

    c_paid_goods_s numeric(20,4),

    c_paid_to_for_empl numeric(20,4),

    c_paid_for_taxes numeric(20,4),

    n_incr_clt_loan_adv numeric(20,4),

    n_incr_dep_cbob numeric(20,4),

    c_pay_claims_orig_inco numeric(20,4),

    pay_handling_chrg numeric(20,4),

    pay_comm_insur_plcy numeric(20,4),

    oth_cash_pay_oper_act numeric(20,4),

    st_cash_out_act numeric(20,4),

    n_cashflow_act numeric(20,4),

    oth_recp_ral_inv_act numeric(20,4),

    c_disp_withdrwl_invest numeric(20,4),

    c_recp_return_invest numeric(20,4),

    n_recp_disp_fiolta numeric(20,4),

    n_recp_disp_sobu numeric(20,4),

    stot_inflows_inv_act numeric(20,4),

    c_pay_acq_const_fiolta numeric(20,4),

    c_paid_invest numeric(20,4),

    n_disp_subs_oth_biz numeric(20,4),

    oth_pay_ral_inv_act numeric(20,4),

    n_incr_pledge_loan numeric(20,4),

    stot_out_inv_act numeric(20,4),

    n_cashflow_inv_act numeric(20,4),

    c_recp_borrow numeric(20,4),

    proc_issue_bonds numeric(20,4),

    oth_cash_recp_ral_fnc_act numeric(20,4),

    stot_cash_in_fnc_act numeric(20,4),

    free_cashflow numeric(20,4),

    c_prepay_amt_borr numeric(20,4),

    c_pay_dist_dpcp_int_exp numeric(20,4),

    incl_dvd_profit_paid_sc_ms numeric(20,4),

    oth_cashpay_ral_fnc_act numeric(20,4),

    stot_cashout_fnc_act numeric(20,4),

    n_cash_flows_fnc_act numeric(20,4),

    eff_fx_flu_cash numeric(20,4),

    n_incr_cash_cash_equ numeric(20,4),

    c_cash_equ_beg_period numeric(20,4),

    c_cash_equ_end_period numeric(20,4),

    c_recp_cap_contrib numeric(20,4),

    incl_cash_rec_saims numeric(20,4),

    uncon_invest_loss numeric(20,4),

    prov_depr_assets numeric(20,4),

    depr_fa_coga_dpba numeric(20,4),

    amort_intang_assets numeric(20,4),

    lt_amort_deferred_exp numeric(20,4),

    decr_deferred_exp numeric(20,4),

    incr_acc_exp numeric(20,4),

    loss_disp_fiolta numeric(20,4),

    loss_scr_fa numeric(20,4),

    loss_fv_chg numeric(20,4),

    invest_loss numeric(20,4),

    decr_def_inc_tax_assets numeric(20,4),

    incr_def_inc_tax_liab numeric(20,4),

    decr_inventories numeric(20,4),

    decr_oper_payable numeric(20,4),

    incr_oper_payable numeric(20,4),

    others numeric(20,4),

    im_net_cashflow_oper_act numeric(20,4),

    conv_debt_into_cap numeric(20,4),

    conv_copbonds_due_within_1y numeric(20,4),

    fa_fnc_leases numeric(20,4),

    im_n_incr_cash_equ numeric(20,4),

    net_dism_capital_add numeric(20,4),

    net_cash_rece_sec numeric(20,4),

    credit_impa_loss numeric(20,4),

    use_right_asset_dep numeric(20,4),

    oth_loss_asset numeric(20,4),

    end_bal_cash numeric(20,4),

    beg_bal_cash numeric(20,4),

    end_bal_cash_equ numeric(20,4),

    beg_bal_cash_equ numeric(20,4),

    update_flag varchar(1) NOT NULL,

    PRIMARY KEY(ts_code,end_date,end_type,update_flag)

);

CREATE INDEX cash_flow_ts_code ON public.cash_flow USING btree (ts_code);

CREATE INDEX cash_flow_end_date ON public.cash_flow USING btree (end_date);

CREATE INDEX cash_flow_end_type ON public.cash_flow USING btree (end_type);

CREATE UNIQUE INDEX cash_flow_ts_code_end_date_comp_type_report_type_end_type_updat ON public.cash_flow USING btree (ts_code, end_date, comp_type, report_type, end_type, update_flag);

COMMENT ON TABLE cash_flow IS '现金流量表';

COMMENT ON COLUMN cash_flow.ts_code IS 'TS股票代码';

COMMENT ON COLUMN cash_flow.ann_date IS '公告日期';

COMMENT ON COLUMN cash_flow.f_ann_date IS '实际公告日期';

COMMENT ON COLUMN cash_flow.end_date IS '报告期';

COMMENT ON COLUMN cash_flow.comp_type IS '公司类型(1一般工商业2银行3保险4证券)';

COMMENT ON COLUMN cash_flow.report_type IS '报表类型';

COMMENT ON COLUMN cash_flow.end_type IS '报告期类型';

COMMENT ON COLUMN cash_flow.net_profit IS '净利润';

COMMENT ON COLUMN cash_flow.finan_exp IS '财务费用';

COMMENT ON COLUMN cash_flow.c_fr_sale_sg IS '销售商品、提供劳务收到的现金';

COMMENT ON COLUMN cash_flow.recp_tax_rends IS '收到的税费返还';

COMMENT ON COLUMN cash_flow.n_depos_incr_fi IS '客户存款和同业存放款项净增加额';

COMMENT ON COLUMN cash_flow.n_incr_loans_cb IS '向中央银行借款净增加额';

COMMENT ON COLUMN cash_flow.n_inc_borr_oth_fi IS '向其他金融机构拆入资金净增加额';

COMMENT ON COLUMN cash_flow.prem_fr_orig_contr IS '收到原保险合同保费取得的现金';

COMMENT ON COLUMN cash_flow.n_incr_insured_dep IS '保户储金净增加额';

COMMENT ON COLUMN cash_flow.n_reinsur_prem IS '收到再保业务现金净额';

COMMENT ON COLUMN cash_flow.n_incr_disp_tfa IS '处置交易性金融资产净增加额';

COMMENT ON COLUMN cash_flow.ifc_cash_incr IS '收取利息和手续费净增加额';

COMMENT ON COLUMN cash_flow.n_incr_disp_faas IS '处置可供出售金融资产净增加额';

COMMENT ON COLUMN cash_flow.n_incr_loans_oth_bank IS '拆入资金净增加额';

COMMENT ON COLUMN cash_flow.n_cap_incr_repur IS '回购业务资金净增加额';

COMMENT ON COLUMN cash_flow.c_fr_oth_operate_a IS '收到其他与经营活动有关的现金';

COMMENT ON COLUMN cash_flow.c_inf_fr_operate_a IS '经营活动现金流入小计';

COMMENT ON COLUMN cash_flow.c_paid_goods_s IS '购买商品、接受劳务支付的现金';

COMMENT ON COLUMN cash_flow.c_paid_to_for_empl IS '支付给职工以及为职工支付的现金';

COMMENT ON COLUMN cash_flow.c_paid_for_taxes IS '支付的各项税费';

COMMENT ON COLUMN cash_flow.n_incr_clt_loan_adv IS '客户贷款及垫款净增加额';

COMMENT ON COLUMN cash_flow.n_incr_dep_cbob IS '存放央行和同业款项净增加额';

COMMENT ON COLUMN cash_flow.c_pay_claims_orig_inco IS '支付原保险合同赔付款项的现金';

COMMENT ON COLUMN cash_flow.pay_handling_chrg IS '支付手续费的现金';

COMMENT ON COLUMN cash_flow.pay_comm_insur_plcy IS '支付保单红利的现金';

COMMENT ON COLUMN cash_flow.oth_cash_pay_oper_act IS '支付其他与经营活动有关的现金';

COMMENT ON COLUMN cash_flow.st_cash_out_act IS '经营活动现金流出小计';

COMMENT ON COLUMN cash_flow.n_cashflow_act IS '经营活动产生的现金流量净额';

COMMENT ON COLUMN cash_flow.oth_recp_ral_inv_act IS '收到其他与投资活动有关的现金';

COMMENT ON COLUMN cash_flow.c_disp_withdrwl_invest IS '收回投资收到的现金';

COMMENT ON COLUMN cash_flow.c_recp_return_invest IS '取得投资收益收到的现金';

COMMENT ON COLUMN cash_flow.n_recp_disp_fiolta IS '处置固定资产、无形资产和其他长期资产收回的现金净额';

COMMENT ON COLUMN cash_flow.n_recp_disp_sobu IS '处置子公司及其他营业单位收到的现金净额';

COMMENT ON COLUMN cash_flow.stot_inflows_inv_act IS '投资活动现金流入小计';

COMMENT ON COLUMN cash_flow.c_pay_acq_const_fiolta IS '购建固定资产、无形资产和其他长期资产支付的现金';

COMMENT ON COLUMN cash_flow.c_paid_invest IS '投资支付的现金';

COMMENT ON COLUMN cash_flow.n_disp_subs_oth_biz IS '取得子公司及其他营业单位支付的现金净额';

COMMENT ON COLUMN cash_flow.oth_pay_ral_inv_act IS '支付其他与投资活动有关的现金';

COMMENT ON COLUMN cash_flow.n_incr_pledge_loan IS '质押贷款净增加额';

COMMENT ON COLUMN cash_flow.stot_out_inv_act IS '投资活动现金流出小计';

COMMENT ON COLUMN cash_flow.n_cashflow_inv_act IS '投资活动产生的现金流量净额';

COMMENT ON COLUMN cash_flow.c_recp_borrow IS '取得借款收到的现金';

COMMENT ON COLUMN cash_flow.proc_issue_bonds IS '发行债券收到的现金';

COMMENT ON COLUMN cash_flow.oth_cash_recp_ral_fnc_act IS '收到其他与筹资活动有关的现金';

COMMENT ON COLUMN cash_flow.stot_cash_in_fnc_act IS '筹资活动现金流入小计';

COMMENT ON COLUMN cash_flow.free_cashflow IS '企业自由现金流量';

COMMENT ON COLUMN cash_flow.c_prepay_amt_borr IS '偿还债务支付的现金';

COMMENT ON COLUMN cash_flow.c_pay_dist_dpcp_int_exp IS '分配股利、利润或偿付利息支付的现金';

COMMENT ON COLUMN cash_flow.incl_dvd_profit_paid_sc_ms IS '其中:子公司支付给少数股东的股利、利润';

COMMENT ON COLUMN cash_flow.oth_cashpay_ral_fnc_act IS '支付其他与筹资活动有关的现金';

COMMENT ON COLUMN cash_flow.stot_cashout_fnc_act IS '筹资活动现金流出小计';

COMMENT ON COLUMN cash_flow.n_cash_flows_fnc_act IS '筹资活动产生的现金流量净额';

COMMENT ON COLUMN cash_flow.eff_fx_flu_cash IS '汇率变动对现金的影响';

COMMENT ON COLUMN cash_flow.n_incr_cash_cash_equ IS '现金及现金等价物净增加额';

COMMENT ON COLUMN cash_flow.c_cash_equ_beg_period IS '期初现金及现金等价物余额';

COMMENT ON COLUMN cash_flow.c_cash_equ_end_period IS '期末现金及现金等价物余额';

COMMENT ON COLUMN cash_flow.c_recp_cap_contrib IS '吸收投资收到的现金';

COMMENT ON COLUMN cash_flow.incl_cash_rec_saims IS '其中:子公司吸收少数股东投资收到的现金';

COMMENT ON COLUMN cash_flow.uncon_invest_loss IS '未确认投资损失';

COMMENT ON COLUMN cash_flow.prov_depr_assets IS '加:资产减值准备';

COMMENT ON COLUMN cash_flow.depr_fa_coga_dpba IS '固定资产折旧、油气资产折耗、生产性生物资产折旧';

COMMENT ON COLUMN cash_flow.amort_intang_assets IS '无形资产摊销';

COMMENT ON COLUMN cash_flow.lt_amort_deferred_exp IS '长期待摊费用摊销';

COMMENT ON COLUMN cash_flow.decr_deferred_exp IS '待摊费用减少';

COMMENT ON COLUMN cash_flow.incr_acc_exp IS '预提费用增加';

COMMENT ON COLUMN cash_flow.loss_disp_fiolta IS '处置固定、无形资产和其他长期资产的损失';

COMMENT ON COLUMN cash_flow.loss_scr_fa IS '固定资产报废损失';

COMMENT ON COLUMN cash_flow.loss_fv_chg IS '公允价值变动损失';

COMMENT ON COLUMN cash_flow.invest_loss IS '投资损失';

COMMENT ON COLUMN cash_flow.decr_def_inc_tax_assets IS '递延所得税资产减少';

COMMENT ON COLUMN cash_flow.incr_def_inc_tax_liab IS '递延所得税负债增加';

COMMENT ON COLUMN cash_flow.decr_inventories IS '存货的减少';

COMMENT ON COLUMN cash_flow.decr_oper_payable IS '经营性应收项目的减少';

COMMENT ON COLUMN cash_flow.incr_oper_payable IS '经营性应付项目的增加';

COMMENT ON COLUMN cash_flow.others IS '其他';

COMMENT ON COLUMN cash_flow.im_net_cashflow_oper_act IS '经营活动产生的现金流量净额(间接法)';

COMMENT ON COLUMN cash_flow.conv_debt_into_cap IS '债务转为资本';

COMMENT ON COLUMN cash_flow.conv_copbonds_due_within_1y IS '一年内到期的可转换公司债券';

COMMENT ON COLUMN cash_flow.fa_fnc_leases IS '融资租入固定资产';

COMMENT ON COLUMN cash_flow.im_n_incr_cash_equ IS '现金及现金等价物净增加额(间接法)';

COMMENT ON COLUMN cash_flow.net_dism_capital_add IS '拆出资金净增加额';

COMMENT ON COLUMN cash_flow.net_cash_rece_sec IS '代理买卖证券收到的现金净额(元)';

COMMENT ON COLUMN cash_flow.credit_impa_loss IS '信用减值损失';

COMMENT ON COLUMN cash_flow.use_right_asset_dep IS '使用权资产折旧';

COMMENT ON COLUMN cash_flow.oth_loss_asset IS '其他资产减值损失';

COMMENT ON COLUMN cash_flow.end_bal_cash IS '现金的期末余额';

COMMENT ON COLUMN cash_flow.beg_bal_cash IS '减:现金的期初余额';

COMMENT ON COLUMN cash_flow.end_bal_cash_equ IS '加:现金等价物的期末余额';

COMMENT ON COLUMN cash_flow.beg_bal_cash_equ IS '减:现金等价物的期初余额';

COMMENT ON COLUMN cash_flow.update_flag IS '更新标志(1最新)';



利润表

-- Generated by the database client.

CREATE TABLE income_statement(

    ts_code varchar(20) NOT NULL,

    ann_date date NOT NULL,

    f_ann_date date,

    end_date date NOT NULL,

    report_type varchar(10),

    comp_type varchar(1),

    end_type varchar(10) NOT NULL,

    basic_eps numeric(20,4),

    diluted_eps numeric(20,4),

    total_revenue numeric(20,4),

    revenue numeric(20,4),

    int_income numeric(20,4),

    prem_earned numeric(20,4),

    comm_income numeric(20,4),

    n_commis_income numeric(20,4),

    n_oth_income numeric(20,4),

    n_oth_b_income numeric(20,4),

    prem_income numeric(20,4),

    out_prem numeric(20,4),

    une_prem_reser numeric(20,4),

    reins_income numeric(20,4),

    n_sec_tb_income numeric(20,4),

    n_sec_uw_income numeric(20,4),

    n_asset_mg_income numeric(20,4),

    oth_b_income numeric(20,4),

    fv_value_chg_gain numeric(20,4),

    invest_income numeric(20,4),

    ass_invest_income numeric(20,4),

    forex_gain numeric(20,4),

    total_cogs numeric(20,4),

    oper_cost numeric(20,4),

    int_exp numeric(20,4),

    comm_exp numeric(20,4),

    biz_tax_surchg numeric(20,4),

    sell_exp numeric(20,4),

    admin_exp numeric(20,4),

    fin_exp numeric(20,4),

    assets_impair_loss numeric(20,4),

    prem_refund numeric(20,4),

    compens_payout numeric(20,4),

    reser_insur_liab numeric(20,4),

    div_payt numeric(20,4),

    reins_exp numeric(20,4),

    oper_exp numeric(20,4),

    compens_payout_refu numeric(20,4),

    insur_reser_refu numeric(20,4),

    reins_cost_refund numeric(20,4),

    other_bus_cost numeric(20,4),

    operate_profit numeric(20,4),

    non_oper_income numeric(20,4),

    non_oper_exp numeric(20,4),

    nca_disploss numeric(20,4),

    total_profit numeric(20,4),

    income_tax numeric(20,4),

    n_income numeric(20,4),

    n_income_attr_p numeric(20,4),

    minority_gain numeric(20,4),

    oth_compr_income numeric(20,4),

    t_compr_income numeric(20,4),

    compr_inc_attr_p numeric(20,4),

    compr_inc_attr_m_s numeric(20,4),

    ebit numeric(20,4),

    ebitda numeric(20,4),

    insurance_exp numeric(20,4),

    undist_profit numeric(20,4),

    distable_profit numeric(20,4),

    rd_exp numeric(20,4),

    fin_exp_int_exp numeric(20,4),

    fin_exp_int_inc numeric(20,4),

    transfer_surplus_rese numeric(20,4),

    transfer_housing_imprest numeric(20,4),

    transfer_oth numeric(20,4),

    adj_lossgain numeric(20,4),

    withdra_legal_surplus numeric(20,4),

    withdra_legal_pubfund numeric(20,4),

    withdra_biz_devfund numeric(20,4),

    withdra_rese_fund numeric(20,4),

    withdra_oth_ersu numeric(20,4),

    workers_welfare numeric(20,4),

    distr_profit_shrhder numeric(20,4),

    prfshare_payable_dvd numeric(20,4),

    comshare_payable_dvd numeric(20,4),

    capit_comstock_div numeric(20,4),

    net_after_nr_lp_correct numeric(20,4),

    credit_impa_loss numeric(20,4),

    net_expo_hedging_benefits numeric(20,4),

    oth_impair_loss_assets numeric(20,4),

    total_opcost numeric(20,4),

    amodcost_fin_assets numeric(20,4),

    oth_income numeric(20,4),

    asset_disp_income numeric(20,4),

    continued_net_profit numeric(20,4),

    end_net_profit numeric(20,4),

    update_flag varchar(1) NOT NULL,

    PRIMARY KEY(ts_code,end_date,end_type,update_flag)

);

CREATE INDEX income_statement_ts_code ON public.income_statement USING btree (ts_code);

CREATE INDEX income_statement_end_date ON public.income_statement USING btree (end_date);

CREATE INDEX income_statement_end_type ON public.income_statement USING btree (end_type);

CREATE UNIQUE INDEX income_statement_ts_code_end_date_report_type_comp_type_end_typ ON public.income_statement USING btree (ts_code, end_date, report_type, comp_type, end_type, update_flag);

COMMENT ON TABLE income_statement IS '利润表';

COMMENT ON COLUMN income_statement.ts_code IS 'TS代码';

COMMENT ON COLUMN income_statement.ann_date IS '公告日期';

COMMENT ON COLUMN income_statement.f_ann_date IS '实际公告日期';

COMMENT ON COLUMN income_statement.end_date IS '报告期';

COMMENT ON COLUMN income_statement.report_type IS '报告类型';

COMMENT ON COLUMN income_statement.comp_type IS '公司类型(1一般工商业2银行3保险4证券)';

COMMENT ON COLUMN income_statement.end_type IS '报告期类型';

COMMENT ON COLUMN income_statement.basic_eps IS '基本每股收益';

COMMENT ON COLUMN income_statement.diluted_eps IS '稀释每股收益';

COMMENT ON COLUMN income_statement.total_revenue IS '营业总收入';

COMMENT ON COLUMN income_statement.revenue IS '营业收入';

COMMENT ON COLUMN income_statement.int_income IS '利息收入';

COMMENT ON COLUMN income_statement.prem_earned IS '已赚保费';

COMMENT ON COLUMN income_statement.comm_income IS '手续费及佣金收入';

COMMENT ON COLUMN income_statement.n_commis_income IS '手续费及佣金净收入';

COMMENT ON COLUMN income_statement.n_oth_income IS '其他经营净收益';

COMMENT ON COLUMN income_statement.n_oth_b_income IS '加:其他业务净收益';

COMMENT ON COLUMN income_statement.prem_income IS '保险业务收入';

COMMENT ON COLUMN income_statement.out_prem IS '减:分出保费';

COMMENT ON COLUMN income_statement.une_prem_reser IS '提取未到期责任准备金';

COMMENT ON COLUMN income_statement.reins_income IS '其中:分保费收入';

COMMENT ON COLUMN income_statement.n_sec_tb_income IS '代理买卖证券业务净收入';

COMMENT ON COLUMN income_statement.n_sec_uw_income IS '证券承销业务净收入';

COMMENT ON COLUMN income_statement.n_asset_mg_income IS '受托客户资产管理业务净收入';

COMMENT ON COLUMN income_statement.oth_b_income IS '其他业务收入';

COMMENT ON COLUMN income_statement.fv_value_chg_gain IS '加:公允价值变动净收益';

COMMENT ON COLUMN income_statement.invest_income IS '加:投资净收益';

COMMENT ON COLUMN income_statement.ass_invest_income IS '其中:对联营企业和合营企业的投资收益';

COMMENT ON COLUMN income_statement.forex_gain IS '加:汇兑净收益';

COMMENT ON COLUMN income_statement.total_cogs IS '营业总成本';

COMMENT ON COLUMN income_statement.oper_cost IS '减:营业成本';

COMMENT ON COLUMN income_statement.int_exp IS '减:利息支出';

COMMENT ON COLUMN income_statement.comm_exp IS '减:手续费及佣金支出';

COMMENT ON COLUMN income_statement.biz_tax_surchg IS '减:营业税金及附加';

COMMENT ON COLUMN income_statement.sell_exp IS '减:销售费用';

COMMENT ON COLUMN income_statement.admin_exp IS '减:管理费用';

COMMENT ON COLUMN income_statement.fin_exp IS '减:财务费用';

COMMENT ON COLUMN income_statement.assets_impair_loss IS '减:资产减值损失';

COMMENT ON COLUMN income_statement.prem_refund IS '退保金';

COMMENT ON COLUMN income_statement.compens_payout IS '赔付总支出';

COMMENT ON COLUMN income_statement.reser_insur_liab IS '提取保险责任准备金';

COMMENT ON COLUMN income_statement.div_payt IS '保户红利支出';

COMMENT ON COLUMN income_statement.reins_exp IS '分保费用';

COMMENT ON COLUMN income_statement.oper_exp IS '营业支出';

COMMENT ON COLUMN income_statement.compens_payout_refu IS '减:摊回赔付支出';

COMMENT ON COLUMN income_statement.insur_reser_refu IS '减:摊回保险责任准备金';

COMMENT ON COLUMN income_statement.reins_cost_refund IS '减:摊回分保费用';

COMMENT ON COLUMN income_statement.other_bus_cost IS '其他业务成本';

COMMENT ON COLUMN income_statement.operate_profit IS '营业利润';

COMMENT ON COLUMN income_statement.non_oper_income IS '加:营业外收入';

COMMENT ON COLUMN income_statement.non_oper_exp IS '减:营业外支出';

COMMENT ON COLUMN income_statement.nca_disploss IS '其中:减:非流动资产处置净损失';

COMMENT ON COLUMN income_statement.total_profit IS '利润总额';

COMMENT ON COLUMN income_statement.income_tax IS '所得税费用';

COMMENT ON COLUMN income_statement.n_income IS '净利润(含少数股东损益)';

COMMENT ON COLUMN income_statement.n_income_attr_p IS '净利润(不含少数股东损益)';

COMMENT ON COLUMN income_statement.minority_gain IS '少数股东损益';

COMMENT ON COLUMN income_statement.oth_compr_income IS '其他综合收益';

COMMENT ON COLUMN income_statement.t_compr_income IS '综合收益总额';

COMMENT ON COLUMN income_statement.compr_inc_attr_p IS '归属于母公司(或股东)的综合收益总额';

COMMENT ON COLUMN income_statement.compr_inc_attr_m_s IS '归属于少数股东的综合收益总额';

COMMENT ON COLUMN income_statement.ebit IS '息税前利润';

COMMENT ON COLUMN income_statement.ebitda IS '息税折旧摊销前利润';

COMMENT ON COLUMN income_statement.insurance_exp IS '保险业务支出';

COMMENT ON COLUMN income_statement.undist_profit IS '年初未分配利润';

COMMENT ON COLUMN income_statement.distable_profit IS '可分配利润';

COMMENT ON COLUMN income_statement.rd_exp IS '研发费用';

COMMENT ON COLUMN income_statement.fin_exp_int_exp IS '财务费用:利息费用';

COMMENT ON COLUMN income_statement.fin_exp_int_inc IS '财务费用:利息收入';

COMMENT ON COLUMN income_statement.transfer_surplus_rese IS '盈余公积转入';

COMMENT ON COLUMN income_statement.transfer_housing_imprest IS '住房周转金转入';

COMMENT ON COLUMN income_statement.transfer_oth IS '其他转入';

COMMENT ON COLUMN income_statement.adj_lossgain IS '调整以前年度损益';

COMMENT ON COLUMN income_statement.withdra_legal_surplus IS '提取法定盈余公积';

COMMENT ON COLUMN income_statement.withdra_legal_pubfund IS '提取法定公益金';

COMMENT ON COLUMN income_statement.withdra_biz_devfund IS '提取企业发展基金';

COMMENT ON COLUMN income_statement.withdra_rese_fund IS '提取储备基金';

COMMENT ON COLUMN income_statement.withdra_oth_ersu IS '提取任意盈余公积金';

COMMENT ON COLUMN income_statement.workers_welfare IS '职工奖金福利';

COMMENT ON COLUMN income_statement.distr_profit_shrhder IS '可供股东分配的利润';

COMMENT ON COLUMN income_statement.prfshare_payable_dvd IS '应付优先股股利';

COMMENT ON COLUMN income_statement.comshare_payable_dvd IS '应付普通股股利';

COMMENT ON COLUMN income_statement.capit_comstock_div IS '转作股本的普通股股利';

COMMENT ON COLUMN income_statement.net_after_nr_lp_correct IS '扣除非经常性损益后的净利润（更正前）';

COMMENT ON COLUMN income_statement.credit_impa_loss IS '信用减值损失';

COMMENT ON COLUMN income_statement.net_expo_hedging_benefits IS '净敞口套期收益';

COMMENT ON COLUMN income_statement.oth_impair_loss_assets IS '其他资产减值损失';

COMMENT ON COLUMN income_statement.total_opcost IS '营业总成本（二）';

COMMENT ON COLUMN income_statement.amodcost_fin_assets IS '以摊余成本计量的金融资产终止确认收益';

COMMENT ON COLUMN income_statement.oth_income IS '其他收益';

COMMENT ON COLUMN income_statement.asset_disp_income IS '资产处置收益';

COMMENT ON COLUMN income_statement.continued_net_profit IS '持续经营净利润';

COMMENT ON COLUMN income_statement.end_net_profit IS '终止经营净利润';

COMMENT ON COLUMN income_statement.update_flag IS '更新标识';



股票基本信息

-- Generated by the database client.

CREATE TABLE valuation_metrics(

    trade_date date NOT NULL,

    ts_code varchar(20) NOT NULL,

    name varchar(50),

    industry varchar(50),

    area varchar(50),

    pe numeric(20,4),

    float_share numeric(20,4),

    total_share numeric(20,4),

    total_assets numeric(20,4),

    liquid_assets numeric(20,4),

    fixed_assets numeric(20,4),

    reserved numeric(20,4),

    reserved_pershare numeric(20,4),

    eps numeric(20,4),

    bvps numeric(20,4),

    pb numeric(20,4),

    list_date varchar(20),

    undp numeric(20,4),

    per_undp numeric(20,4),

    rev_yoy numeric(20,4),

    profit_yoy numeric(20,4),

    gpr numeric(20,4),

    npr numeric(20,4),

    holder_num integer,

    PRIMARY KEY(trade_date,ts_code)

);

CREATE INDEX idx_valuation_metrics_ts_code ON public.valuation_metrics USING btree (ts_code);

CREATE INDEX idx_valuation_metrics_trade_date ON public.valuation_metrics USING btree (trade_date);

CREATE INDEX idx_valuation_metrics_industry ON public.valuation_metrics USING btree (industry);

CREATE INDEX idx_valuation_metrics_pe ON public.valuation_metrics USING btree (pe);

CREATE INDEX idx_valuation_metrics_pb ON public.valuation_metrics USING btree (pb);

COMMENT ON TABLE valuation_metrics IS '股票估值指标表';

COMMENT ON COLUMN valuation_metrics.trade_date IS '交易日期';

COMMENT ON COLUMN valuation_metrics.ts_code IS 'TS股票代码';

COMMENT ON COLUMN valuation_metrics.name IS '股票名称';

COMMENT ON COLUMN valuation_metrics.industry IS '行业';

COMMENT ON COLUMN valuation_metrics.area IS '地域';

COMMENT ON COLUMN valuation_metrics.pe IS '市盈率（动）';

COMMENT ON COLUMN valuation_metrics.float_share IS '流通股本（亿）';

COMMENT ON COLUMN valuation_metrics.total_share IS '总股本（亿）';

COMMENT ON COLUMN valuation_metrics.total_assets IS '总资产（亿）';

COMMENT ON COLUMN valuation_metrics.liquid_assets IS '流动资产（亿）';

COMMENT ON COLUMN valuation_metrics.fixed_assets IS '固定资产（亿）';

COMMENT ON COLUMN valuation_metrics.reserved IS '公积金';

COMMENT ON COLUMN valuation_metrics.reserved_pershare IS '每股公积金';

COMMENT ON COLUMN valuation_metrics.eps IS '每股收益';

COMMENT ON COLUMN valuation_metrics.bvps IS '每股净资产';

COMMENT ON COLUMN valuation_metrics.pb IS '市净率';

COMMENT ON COLUMN valuation_metrics.list_date IS '上市日期';

COMMENT ON COLUMN valuation_metrics.undp IS '未分配利润';

COMMENT ON COLUMN valuation_metrics.per_undp IS '每股未分配利润';

COMMENT ON COLUMN valuation_metrics.rev_yoy IS '收入同比（%）';

COMMENT ON COLUMN valuation_metrics.profit_yoy IS '利润同比（%）';

COMMENT ON COLUMN valuation_metrics.gpr IS '毛利率（%）';

COMMENT ON COLUMN valuation_metrics.npr IS '净利润率（%）';

COMMENT ON COLUMN valuation_metrics.holder_num IS '股东人数';


股票背景信息
-- Generated by the database client.
CREATE TABLE stock_basic(
    ts_code varchar(20) NOT NULL,
    symbol varchar(10) NOT NULL,
    name varchar(50) NOT NULL,
    area varchar(50),
    industry varchar(50),
    fullname varchar(100),
    enname varchar(100),
    cnspell varchar(50),
    market varchar(20),
    exchange varchar(10),
    curr_type varchar(10),
    list_status varchar(1),
    list_date date,
    delist_date date,
    is_hs varchar(1),
    act_name varchar(100),
    act_ent_type varchar(50)
);
CREATE UNIQUE INDEX stock_basic_unique ON public.stock_basic USING btree (ts_code);
CREATE INDEX idx_stock_basic_ts_code ON public.stock_basic USING btree (ts_code);
CREATE INDEX idx_stock_basic_symbol ON public.stock_basic USING btree (symbol);
CREATE INDEX idx_stock_basic_name ON public.stock_basic USING btree (name);
CREATE INDEX idx_stock_basic_industry ON public.stock_basic USING btree (industry);
CREATE INDEX idx_stock_basic_list_date ON public.stock_basic USING btree (list_date);
COMMENT ON TABLE stock_basic IS '股票基本信息表';
COMMENT ON COLUMN stock_basic.ts_code IS 'TS代码';
COMMENT ON COLUMN stock_basic.symbol IS '股票代码';
COMMENT ON COLUMN stock_basic.name IS '股票名称';
COMMENT ON COLUMN stock_basic.area IS '地域';
COMMENT ON COLUMN stock_basic.industry IS '所属行业';
COMMENT ON COLUMN stock_basic.fullname IS '股票全称';
COMMENT ON COLUMN stock_basic.enname IS '英文全称';
COMMENT ON COLUMN stock_basic.cnspell IS '拼音缩写';
COMMENT ON COLUMN stock_basic.market IS '市场类型（主板/创业板/科创板/CDR）';
COMMENT ON COLUMN stock_basic.exchange IS '交易所代码';
COMMENT ON COLUMN stock_basic.curr_type IS '交易货币';
COMMENT ON COLUMN stock_basic.list_status IS '上市状态 L上市 D退市 P暂停上市';
COMMENT ON COLUMN stock_basic.list_date IS '上市日期';
COMMENT ON COLUMN stock_basic.delist_date IS '退市日期';
COMMENT ON COLUMN stock_basic.is_hs IS '是否沪深港通标的，N否 H沪股通 S深股通';
COMMENT ON COLUMN stock_basic.act_name IS '实控人名称';
COMMENT ON COLUMN stock_basic.act_ent_type IS '实控人企业性质';

历史日线行情
-- Generated by the database client.
CREATE TABLE stock_basic(
    ts_code varchar(20) NOT NULL,
    symbol varchar(10) NOT NULL,
    name varchar(50) NOT NULL,
    area varchar(50),
    industry varchar(50),
    fullname varchar(100),
    enname varchar(100),
    cnspell varchar(50),
    market varchar(20),
    exchange varchar(10),
    curr_type varchar(10),
    list_status varchar(1),
    list_date date,
    delist_date date,
    is_hs varchar(1),
    act_name varchar(100),
    act_ent_type varchar(50)
);
CREATE UNIQUE INDEX stock_basic_unique ON public.stock_basic USING btree (ts_code);
CREATE INDEX idx_stock_basic_ts_code ON public.stock_basic USING btree (ts_code);
CREATE INDEX idx_stock_basic_symbol ON public.stock_basic USING btree (symbol);
CREATE INDEX idx_stock_basic_name ON public.stock_basic USING btree (name);
CREATE INDEX idx_stock_basic_industry ON public.stock_basic USING btree (industry);
CREATE INDEX idx_stock_basic_list_date ON public.stock_basic USING btree (list_date);
COMMENT ON TABLE stock_basic IS '股票基本信息表';
COMMENT ON COLUMN stock_basic.ts_code IS 'TS代码';
COMMENT ON COLUMN stock_basic.symbol IS '股票代码';
COMMENT ON COLUMN stock_basic.name IS '股票名称';
COMMENT ON COLUMN stock_basic.area IS '地域';
COMMENT ON COLUMN stock_basic.industry IS '所属行业';
COMMENT ON COLUMN stock_basic.fullname IS '股票全称';
COMMENT ON COLUMN stock_basic.enname IS '英文全称';
COMMENT ON COLUMN stock_basic.cnspell IS '拼音缩写';
COMMENT ON COLUMN stock_basic.market IS '市场类型（主板/创业板/科创板/CDR）';
COMMENT ON COLUMN stock_basic.exchange IS '交易所代码';
COMMENT ON COLUMN stock_basic.curr_type IS '交易货币';
COMMENT ON COLUMN stock_basic.list_status IS '上市状态 L上市 D退市 P暂停上市';
COMMENT ON COLUMN stock_basic.list_date IS '上市日期';
COMMENT ON COLUMN stock_basic.delist_date IS '退市日期';
COMMENT ON COLUMN stock_basic.is_hs IS '是否沪深港通标的，N否 H沪股通 S深股通';
COMMENT ON COLUMN stock_basic.act_name IS '实控人名称';
COMMENT ON COLUMN stock_basic.act_ent_type IS '实控人企业性质';

股票分红表
-- Generated by the database client.
CREATE TABLE dividend(
    ts_code varchar(20) NOT NULL,
    end_date date NOT NULL,
    ann_date date,
    div_proc varchar(20),
    stk_div numeric(20,4),
    stk_bo_rate numeric(20,4),
    stk_co_rate numeric(20,4),
    cash_div numeric(20,4),
    cash_div_tax numeric(20,4),
    record_date date,
    ex_date date,
    pay_date date,
    div_listdate date,
    imp_ann_date date,
    base_date date,
    base_share numeric(20,4),
    update_flag varchar(20) NOT NULL,
    PRIMARY KEY(ts_code,end_date,update_flag)
);
CREATE INDEX idx_dividend_ts_code ON public.dividend USING btree (ts_code);
CREATE INDEX idx_dividend_end_date ON public.dividend USING btree (end_date);
CREATE INDEX idx_dividend_ex_date ON public.dividend USING btree (ex_date);
CREATE INDEX idx_dividend_record_date ON public.dividend USING btree (record_date);
CREATE UNIQUE INDEX dividend_ts_code_end_date_ann_date_update_flag ON public.dividend USING btree (ts_code, end_date, ann_date, update_flag);
COMMENT ON TABLE dividend IS '股票分红表';
COMMENT ON COLUMN dividend.ts_code IS 'TS代码';
COMMENT ON COLUMN dividend.end_date IS '分红年度';
COMMENT ON COLUMN dividend.ann_date IS '预案公告日';
COMMENT ON COLUMN dividend.div_proc IS '实施进度';
COMMENT ON COLUMN dividend.stk_div IS '每股送转';
COMMENT ON COLUMN dividend.stk_bo_rate IS '每股送股比例';
COMMENT ON COLUMN dividend.stk_co_rate IS '每股转增比例';
COMMENT ON COLUMN dividend.cash_div IS '每股分红（税后）';
COMMENT ON COLUMN dividend.cash_div_tax IS '每股分红（税前）';
COMMENT ON COLUMN dividend.record_date IS '股权登记日';
COMMENT ON COLUMN dividend.ex_date IS '除权除息日';
COMMENT ON COLUMN dividend.pay_date IS '派息日';
COMMENT ON COLUMN dividend.div_listdate IS '红股上市日';
COMMENT ON COLUMN dividend.imp_ann_date IS '实施公告日';
COMMENT ON COLUMN dividend.base_date IS '基准日';
COMMENT ON COLUMN dividend.base_share IS '基准股本（万）';