# 业务逻辑的最终依据指南

本文档强调在项目开发过程中，确立和遵循业务逻辑“最终依据”(Source of Truth) 的重要性。这有助于确保软件实现与业务需求的一致性，减少误解，并为需求变更提供清晰的参考点。

## 1. 什么是业务逻辑的最终依据？

*   **定义：** 指项目中用于权威性地定义、描述和解释业务规则、计算方法、流程步骤、数据含义等核心业务逻辑的官方文档或指定信息源。
*   **目的：** 当开发团队（包括 AI 助手如 Cline）对某项业务逻辑的实现方式产生疑问或需要澄清时，应以此最终依据为准。

## 2. 为什么需要最终依据？

*   **确保一致性：** 防止不同团队成员或不同模块对同一业务逻辑有不同理解和实现。
*   **减少歧义：** 清晰的文档可以减少口头交流中可能产生的误解。
*   **需求可追溯性：** 便于将代码实现追溯回原始的业务需求。
*   **变更管理：** 当业务需求发生变更时，首先更新最终依据文档，然后据此修改代码，确保变更过程的有序性。
*   **知识传承：** 便于新成员快速理解项目的核心业务逻辑。
*   **与 AI 协作的基础：** 为 AI 助手提供准确的业务上下文，使其能够生成更符合需求的建议和代码。

## 3. 常见的最终依据形式

*   **产品需求文档 (PRD - Product Requirements Document):**
    *   详细描述产品功能、用户场景、业务流程、验收标准等。
    *   （例如：对于一个金融分析项目，其核心估值模型的详细计算逻辑、数据处理规则等，可能记录在项目维基、Confluence页面或专门的需求文档中，这些文档即构成业务逻辑的主要最终依据。）
*   **业务规则说明书 (Business Rules Specification):**
    *   专门用于详细列出和解释各项业务规则。
*   **数据字典 (Data Dictionary):**
    *   定义业务数据的含义、格式、约束和来源。
*   **流程图/状态图 (Flowcharts/State Diagrams):**
    *   可视化地描述业务流程或对象状态的变迁。
*   **领域模型图 (Domain Model Diagrams):**
    *   描述核心业务实体及其关系。
*   **用户故事验收标准 (Acceptance Criteria for User Stories):**
    *   在敏捷开发中，用户故事的验收标准通常包含了具体的业务逻辑细节。

## 4. 使用最终依据的指导原则

*   **明确指定：** 在项目开始时，就应明确指定哪些文档或信息源构成业务逻辑的最终依据。
*   **易于访问：** 最终依据文档应存放在团队成员（和 AI 助手）易于访问的位置。
*   **保持更新：** 这是最关键的一点。最终依据文档必须与实际业务需求保持同步。如果文档过时，其作为“最终依据”的价值就会大打折扣。
    *   应建立流程确保在业务需求变更时，优先更新这些文档。
*   **优先引用：**
    *   在讨论业务逻辑、设计实现方案或向 AI 助手下达指令时，应优先引用最终依据文档中的相关章节或条款。
    *   （例如：在与AI助手或其他团队成员讨论特定业务功能的实现细节时，应明确指出最终依据文档中的相关章节、具体规则编号或页面链接。）
*   **处理冲突：** 如果代码实现与最终依据文档不一致，应以最终依据为准进行修正（除非最终依据本身被确认为过时或错误，此时应先更新最终依据）。

---

确立并严格遵循业务逻辑的最终依据，是确保软件项目成功的关键因素之一。
