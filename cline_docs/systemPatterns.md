# 系统架构模式

## 核心架构 (Web 服务)
- **前后端分离:** 通过 API 进行通信。
- **后端 API (FastAPI):**
    - **分层架构:** API 层 (Routers), 服务层 (可选), 数据访问层 (Data Fetchers)。
    - **依赖注入:** FastAPI 内建支持，用于管理依赖。
    - **数据验证/序列化:** 使用 Pydantic 模型。
- **前端 UI (Next.js):**
    - **组件化:** UI 组件和功能组件分离。
    - **App Router:** 用于路由和布局。

## 设计模式应用
- **数据获取:** **策略模式 (Strategy Pattern)** 用于支持多市场数据源。定义通用接口，不同市场实现具体策略。
- **估值计算:** (原有) 策略模式可用于实现不同的估值方法。
- **报告生成 (如果后端仍需生成):** (原有) 工厂模式、模板方法模式。

## 数据处理
- **数据标准化:** 在 Data Fetcher 层将不同来源的数据转换为统一内部结构。
- (原有) 统一数据接口规范 (体现在 Fetcher 基类和标准化结构)。
- (原有) 装饰器模式可用于数据验证或日志记录。

## 错误处理
- **API 错误处理:** 定义统一的 HTTP 错误响应模型。
- (原有) 集中式错误处理机制。
- (原有) 自定义异常体系。
